<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EZ_Read.Pages.Homepage">

    <Grid RowDefinitions="*, Auto" Padding="10">

        <!-- Main content area at the top -->
        <Grid Row="0" RowDefinitions="Auto, *" ColumnDefinitions="Auto, *">
            <!-- âž•Button -->
            <Button Grid.Row="0" Grid.Column="0"
                    Text="âž•"
                    Clicked="OnAddFileClicked"
                    FontSize="20"
                    Padding="10"/>

            <!-- Reserved search bar or other functions -->
            <ContentView Grid.Row="0" Grid.Column="1"/>

            <!-- File list (CollectionView) -->
            <CollectionView Grid.Row="1" Grid.ColumnSpan="2"
                            ItemsSource="{Binding TxtFiles}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border Stroke="Black" StrokeThickness="1" Padding="10" Margin="5" Background="White">
                            <StackLayout Orientation="Horizontal" HorizontalOptions="FillAndExpand">
                                <!-- File name -->
                                <Label Text="{Binding .}" FontSize="18" VerticalOptions="Center" HorizontalOptions="StartAndExpand"/>

                                <!-- Delete button -->
                                <Button Text="ðŸ—‘ï¸"
                                        Clicked="OnDeleteFileClicked"
                                        CommandParameter="{Binding .}"
                                        VerticalOptions="Center" />

                                <!-- Read button -->
                                <Button Text="ðŸ“–"
                                        Clicked="OnFileClicked"
                                        CommandParameter="{Binding .}"
                                        VerticalOptions="Center" />
                            </StackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>

        <!-- Bottom navigation bar -->
        <Grid Grid.Row="1" ColumnDefinitions="*,*" HeightRequest="60">
            <Button Grid.Column="0" Text="ðŸ“š Bookshelf"
                    BackgroundColor="LightGray"/>
            <Button Grid.Column="1" Text="âš™ï¸ Setting"
                    BackgroundColor="LightGray"
                    Clicked="OnSettingClicked"/>
        </Grid>

    </Grid>
</ContentPage>
